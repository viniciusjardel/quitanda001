# ğŸ¯ Guia PrÃ¡tico: Usando MÃºltiplas Unidades

## CenÃ¡rio 1: Cadastrando Banana com 3 Unidades

### Passo 1 - Abrir Admin
VÃ¡ para: `admin.html`

### Passo 2 - Clique em "â• Novo Produto"

### Passo 3 - Preencha os campos

```
Nome: ğŸŒ Banana Prata
DescriÃ§Ã£o: Banana madura e doce
PreÃ§o: 5,99
Imagem: (sua imagem aqui)
Cor: Escolha uma cor
```

### Passo 4 - Selecione as Unidades

Na seÃ§Ã£o "Unidades DisponÃ­veis *", clique nos checkboxes:

```
âœ… palma      (padrÃ£o para bananas)
âœ… kg         (peso)
âœ… un         (unidade individual)
â˜ dÃºzia
â˜ bandeja
â˜ maÃ§o
â˜ litro
```

VocÃª verÃ¡ embaixo:
```
âœ¨ Unidades selecionadas: palma, kg, un
```

### Passo 5 - Clique em "ğŸ’¾ Salvar Produto"

Pronto! A banana foi cadastrada com 3 unidades disponÃ­veis.

---

## CenÃ¡rio 2: Cliente Comprando a Banana

### Passo 1 - Cliente acessa o site

Clica em "Hortifruti Vila Natal" ou abre `index.html`

### Passo 2 - Encontra a banana

Procura ou clica em "ğŸŒ Banana Prata"

### Passo 3 - Clica em "Adicionar"

Automaticamente, aparece um modal:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸŒ Banana Prata      X â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Imagem da banana]      â”‚
â”‚  R$ 5,99                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Escolha a unidade:       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [PALMA] [KG] [UN]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â† Voltar                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Passo 4 - Cliente escolhe a unidade

Digamos que quer comprar por **kg**.  
Clica no botÃ£o [KG]

### Passo 5 - Modal de Quantidade

Aparece o prÃ³ximo modal:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸŒ Banana Prata      X â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Imagem da banana]      â”‚
â”‚  R$ 5,99 / kg           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Escolha a quantidade:    â”‚
â”‚                          â”‚
â”‚    [âˆ’] 0 [+]            â”‚
â”‚                          â”‚
â”‚ Ou digite: [2]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â† Voltar                 â”‚
â”‚ [Adicionar ao Carrinho]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Passo 6 - Cliente escolhe quantidade

Digamos que quer **2 kg**.  
Digite ou use os botÃµes [+] [âˆ’]

### Passo 7 - Clica "Adicionar ao Carrinho"

A banana Ã© adicionada!

---

## CenÃ¡rio 3: Visualizando o Carrinho

### Carrinho mostra:

```
ğŸ›’ Meu Carrinho

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ Banana Prata                â”‚
â”‚ R$ 5,99 / kg                   â”‚ â† Unidade!
â”‚ 2 x  [âˆ’] 2 [+]  R$ 11,98  ğŸ—‘ï¸  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total: R$ 11,98
```

Note que mostra `/kg` porque o cliente escolheu essa unidade.

---

## CenÃ¡rio 4: Finalizando o Pedido

### Cliente clica "Finalizar Pedido"

1. Escolhe tipo de entrega (Local ou Delivery)
2. Preenche dados
3. Escolhe forma de pagamento
4. Confirma

### O que Ã© salvo no pedido:

```javascript
{
  items: [
    {
      id: "banana_001",
      name: "ğŸŒ Banana Prata",
      quantity: 2,
      price: 5.99,
      unit: "kg"  // â† Unidade selecionada!
    }
  ],
  total: 11.98
}
```

Quando vocÃª vÃª no admin, aparece:
```
ğŸŒ Banana Prata
Qtd: 2 x kg @ R$ 5,99 = R$ 11,98
```

---

## Casos Especiais

### Se o produto tem apenas 1 unidade:

```javascript
{
  "name": "Tomate",
  "units": ["kg"]  // SÃ³ uma!
}
```

Cliente clica "Adicionar" â†’ **Pula o modal de seleÃ§Ã£o** â†’ Vai direto para escolher quantidade.

### Se o produto Ã© antigo (sem array `units`):

```javascript
{
  "name": "Alface",
  "unit": "un"  // Formato antigo
}
```

Sistema automaticamente converte para:
```javascript
{
  "name": "Alface",
  "unit": "un",
  "units": ["un"]  // Criado automaticamente
}
```

Cliente vÃª normalmente e compra como antes. âœ… CompatÃ­vel!

---

## Editar Produto JÃ¡ Cadastrado

### Passo 1 - Admin clica "âœï¸ Editar" no produto

### Passo 2 - Modal abre com os dados antigos

Os checkboxes **jÃ¡ vÃªm marcados** com as unidades previamente selecionadas:

```
âœ… kg
âœ… un
â˜ bandeja
â˜ dÃºzia
```

### Passo 3 - Pode adicionar ou remover unidades

Exemplo: Quer adicionar "bandeja"? Clique no checkbox.

### Passo 4 - Clique "ğŸ’¾ Salvar Produto"

O produto Ã© atualizado! âœ…

---

## Troubleshooting

### Problema: "Nenhuma unidade selecionada" (nÃ£o consegue salvar)

**SoluÃ§Ã£o:** Clique em pelo menos um checkbox na seÃ§Ã£o de unidades.

### Problema: Produto aparece sem opÃ§Ã£o de escolher unidade

**Causa:** Produto foi criado com estrutura antiga (sem array `units`)

**SoluÃ§Ã£o:** 
1. Edite o produto
2. Selecione as unidades desejadas
3. Salve novamente

### Problema: Carrinho mostra "undefined" na unidade

**Causa:** Produto corrompido no localStorage

**SoluÃ§Ã£o:** 
1. Limpe localStorage (F12 â†’ Application â†’ Clear All)
2. Recarregue a pÃ¡gina
3. Cadastre o produto novamente

---

## âœ… Checklist de Funcionalidades

- âœ… Cadastrar produto com 1 unidade
- âœ… Cadastrar produto com 2+ unidades
- âœ… Editar produto e mudar unidades
- âœ… Cliente vÃª modal de seleÃ§Ã£o se houver mÃºltiplas unidades
- âœ… Cliente pula seleÃ§Ã£o se houver apenas 1 unidade
- âœ… Carrinho mostra unidade selecionada
- âœ… Pedido salva unidade corretamente
- âœ… Compatibilidade com produtos antigos

---

## ğŸ“š ReferÃªncia de CÃ³digo

Se vocÃª quer entender o cÃ³digo por trÃ¡s:

### SeleÃ§Ã£o de unidades (Frontend)
**Arquivo:** `script-site.js`, funÃ§Ã£o `openProductSelection(id)`
- Verifica quantas unidades o produto tem
- Se 1: abre quantidade direto
- Se 2+: abre seleÃ§Ã£o de unidade

### Salvamento de unidades (Backend)
**Arquivo:** `script.js`, funÃ§Ã£o `saveProduct(e)`
- Coleta todos os checkboxes marcados
- Cria array `units: [...]`
- Envia para API

---

## ğŸ¨ Exemplo Visual Completo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ADMIN PANEL                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Nome: MaÃ§Ã£ Fuji                                         â”‚
â”‚ PreÃ§o: 5,99                                             â”‚
â”‚                                                         â”‚
â”‚ Unidades DisponÃ­veis *                                  â”‚
â”‚ â˜‘ kg          â˜ un         â˜ dÃºzia                     â”‚
â”‚ â˜‘ bandeja     â˜ maÃ§o       â˜ litro                     â”‚
â”‚                                                         â”‚
â”‚ âœ¨ Unidades selecionadas: kg, bandeja                   â”‚
â”‚                                                         â”‚
â”‚ [Salvar Produto]                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“ SALVA NA API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SITE (CLIENTE)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚     [Imagem MaÃ§Ã£]  R$ 5,99                             â”‚
â”‚     ğŸ MaÃ§Ã£ Fuji                                        â”‚
â”‚     "MaÃ§Ã£ fresca e crocante"                           â”‚
â”‚     [ADICIONAR]                                         â”‚
â”‚                                                         â”‚
â”‚              â†“ Cliente clica ADICIONAR                  â”‚
â”‚                                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚     â”‚ ğŸ MaÃ§Ã£ Fuji          X â”‚                       â”‚
â”‚     â”‚ Escolha a unidade:       â”‚                       â”‚
â”‚     â”‚ [KG]  [BANDEJA]          â”‚                       â”‚
â”‚     â”‚ â† Voltar                 â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                         â”‚
â”‚              â†“ Cliente escolhe KG                       â”‚
â”‚                                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚     â”‚ ğŸ MaÃ§Ã£ Fuji          X â”‚                       â”‚
â”‚     â”‚ R$ 5,99 / kg             â”‚                       â”‚
â”‚     â”‚ Escolha a quantidade:    â”‚                       â”‚
â”‚     â”‚ [âˆ’] 2 [+]               â”‚                       â”‚
â”‚     â”‚ [Adicionar ao Carrinho]  â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                         â”‚
â”‚              â†“ Cliente clica ADICIONAR                  â”‚
â”‚                                                         â”‚
â”‚     ğŸ›’ Carrinho (1 item)                               â”‚
â”‚     ğŸ MaÃ§Ã£ Fuji - 2 x kg - R$ 11,98                   â”‚
â”‚                                                         â”‚
â”‚     [Finalizar Pedido]                                 â”‚
â”‚                                                         â”‚
â”‚              â†“ PEDIDO CONFIRMADO                        â”‚
â”‚                                                         â”‚
â”‚     items: [                                           â”‚
â”‚       {                                                 â”‚
â”‚         name: "ğŸ MaÃ§Ã£ Fuji",                          â”‚
â”‚         quantity: 2,                                   â”‚
â”‚         unit: "kg"  â† Unidade selecionada!            â”‚
â”‚       }                                                 â”‚
â”‚     ]                                                   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Tudo pronto para usar! ğŸš€**
