<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Hortifruti Vila Natal - Da horta para o seu lar</title>
    <link rel="icon" type="image/png" href="img/logotipo quitanda villa natal.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #7c3aed 0%, #10b981 100%);
        }
        
        .product-card {
            transition: all 0.3s ease;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.2);
        }
        
        .cart-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .modal {
            backdrop-filter: blur(5px);
        }
        
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        input[type=number] {
            appearance: textfield;
            -moz-appearance: textfield;
        }

        @keyframes slideDown {
            0% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateX(-50%) translateY(100vh);
            }
        }

        .notification-hide {
            animation: slideDown 1s ease-in forwards;
        }

        .category-btn {
            background-color: #f3f4f6;
            color: #374151;
            border: 2px solid #e5e7eb;
        }

        .category-btn:hover {
            border-color: #7c3aed;
        }

        .category-btn.active {
            background: linear-gradient(135deg, #7c3aed 0%, #10b981 100%);
            color: white;
            border-color: transparent;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .status-open {
            background-color: #dcfce7;
            color: #16a34a;
            border: 2px solid #22c55e;
        }

        .status-closed {
            background-color: #fee2e2;
            color: #991b1b;
            border: 2px solid #ef4444;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse-dot 2s infinite;
        }

        .status-open .status-dot {
            background-color: #22c55e;
        }

        .status-closed .status-dot {
            background-color: #ef4444;
        }

        @keyframes pulse-dot {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-3 sm:px-4 py-2 sm:py-4">
            <div class="flex items-center justify-between gap-2 sm:gap-4">
                <div class="flex items-center gap-2 sm:gap-4 flex-1 min-w-0">
                    <img src="img/logotipo quitanda villa natal.png" alt="Logo Hortifruti Vila Natal" class="w-16 h-16 sm:w-24 sm:h-24 md:w-32 md:h-32 rounded-full shadow-lg flex-shrink-0">
                    <div class="min-w-0 flex-1">
                        <h1 class="text-lg sm:text-xl md:text-3xl font-bold truncate">Hortifruti Vila Natal</h1>
                        <p class="text-xs sm:text-sm md:text-base opacity-90 truncate">ğŸ Da horta para o seu lar ğŸŠ</p>
                        <div id="storeStatus" class="status-badge status-open mt-1 sm:mt-2 text-xs sm:text-sm">
                            <span class="status-dot"></span>
                            <span>Aberto</span>
                        </div>
                    </div>
                </div>
                <button onclick="window.toggleCart()" class="relative z-[100] bg-white text-purple-600 px-4 sm:px-8 py-3 sm:py-4 rounded-full font-semibold hover:bg-purple-50 transition text-base sm:text-lg md:text-xl flex-shrink-0 flex items-center gap-2 whitespace-nowrap shadow-md hover:shadow-lg">
                    ğŸ›’ <span class="hidden sm:inline">Carrinho</span>
                    <span id="cartBadge" class="absolute -top-2 -right-2 bg-red-500 text-white w-6 sm:w-8 h-6 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold cart-badge hidden">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Info Banner -->
    <div class="bg-purple-100 border-b-2 border-purple-200 py-2 sm:py-3">
        <div class="container mx-auto px-3 sm:px-4">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4 text-center sm:text-left">
                <div class="flex items-center justify-center sm:justify-start gap-2">
                    <span class="text-xl sm:text-2xl flex-shrink-0">ğŸ“</span>
                    <p class="text-xs sm:text-sm text-purple-900">Av. General Manoel Rabelo, 1725 - JaboatÃ£o</p>
                </div>
                <div class="flex items-center justify-center sm:justify-start gap-2">
                    <span class="text-xl sm:text-2xl flex-shrink-0">ğŸ•</span>
                    <p class="text-xs sm:text-sm text-purple-900">SEG-DOM â€¢ 08h00 Ã s 19h00</p>
                </div>
                <div class="flex items-center justify-center sm:justify-start gap-2">
                    <span class="text-xl sm:text-2xl flex-shrink-0">ğŸ’³</span>
                    <p class="text-xs sm:text-sm text-purple-900">PIX e CartÃ£o</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-8">
        <div class="mb-4 sm:mb-8">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 mb-2">Nossos Produtos Fresquinhos</h2>
            <div class="h-1 w-24 sm:w-32 bg-gradient-to-r from-purple-600 to-green-500 rounded"></div>
        </div>

        <!-- Search Bar -->
        <div class="mb-4 sm:mb-6">
            <input type="text" id="searchInput" placeholder="ğŸ” Pesquisar produtos..." 
                   class="w-full px-3 sm:px-6 py-2 sm:py-4 border-2 border-gray-300 rounded-lg text-sm sm:text-base md:text-lg focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-300 transition">
        </div>

        <!-- Category Buttons -->
        <div class="mb-6 sm:mb-8 flex flex-wrap gap-2 sm:gap-3">
            <button onclick="window.filterByCategory('all')" class="category-btn px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition transform hover:scale-105 active text-xs sm:text-sm" data-category="all">
                ğŸ Todos
            </button>
            <button onclick="window.filterByCategory('frutas')" class="category-btn px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition transform hover:scale-105 text-xs sm:text-sm" data-category="frutas">
                ğŸ Frutas
            </button>
            <button onclick="window.filterByCategory('verduras')" class="category-btn px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition transform hover:scale-105 text-xs sm:text-sm" data-category="verduras">
                ğŸ¥¬ Verduras
            </button>
            <button onclick="window.filterByCategory('legumes')" class="category-btn px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition transform hover:scale-105 text-xs sm:text-sm" data-category="legumes">
                ğŸ¥• Legumes
            </button>
            <button onclick="window.filterByCategory('hortalicas')" class="category-btn px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition transform hover:scale-105 text-xs sm:text-sm" data-category="hortalicas">
                ğŸŒ± HortaliÃ§as
            </button>
        </div>

        <!-- Products Grid -->
        <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 w-full">
            <!-- Products will be loaded here -->
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="text-center py-20">
            <div class="text-6xl mb-4">ğŸ¥¬ğŸ…ğŸ</div>
            <h3 class="text-2xl font-semibold text-gray-700 mb-2">Em breve, produtos fresquinhos!</h3>
            <p class="text-gray-500">Nosso catÃ¡logo estÃ¡ sendo preparado com carinho.</p>
        </div>
    </main>

    <!-- Unit Selection Modal -->
    <div id="unitModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-[95%] sm:w-full p-4 sm:p-6 transform transition-all">
            <div class="flex justify-between items-center mb-4 sm:mb-6">
                <h3 class="text-xl sm:text-2xl font-bold text-gray-800" id="unitModalProductName"></h3>
                <button onclick="window.closeUnitModal()" class="text-gray-400 hover:text-gray-600 text-2xl sm:text-3xl flex-shrink-0 ml-2">&times;</button>
            </div>
            
            <div class="mb-4 sm:mb-6">
                <img id="unitModalProductImage" src="" alt="" class="w-full h-40 sm:h-48 object-cover rounded-lg">
                <p class="text-center mt-2 text-base sm:text-lg font-semibold" id="unitModalProductPrice"></p>
            </div>

            <div class="bg-gray-50 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6">
                <p class="text-base sm:text-lg font-bold text-gray-800 mb-4 text-center">Escolha a unidade:</p>
                <div id="unitOptions" class="space-y-2 sm:space-y-3"></div>
            </div>

            <button onclick="window.closeUnitModal()" class="w-full bg-gray-500 text-white py-3 sm:py-4 rounded-lg font-bold text-base sm:text-lg hover:bg-gray-600 transition shadow-md">
                â† Voltar
            </button>
        </div>
    </div>

    <!-- Quantity Modal -->
    <div id="quantityModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4 modal-backdrop">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-[95%] sm:w-full p-4 sm:p-6 transform transition-all">
            <div class="flex justify-between items-center mb-4 sm:mb-6">
                <h3 class="text-xl sm:text-2xl font-bold text-gray-800" id="modalProductName"></h3>
                <button onclick="window.closeQuantityModal()" class="text-gray-400 hover:text-gray-600 text-2xl sm:text-3xl flex-shrink-0 ml-2">&times;</button>
            </div>
            
            <div class="mb-4 sm:mb-6">
                <img id="modalProductImage" src="" alt="" class="w-full h-40 sm:h-48 object-cover rounded-lg">
                <p class="text-center mt-2 text-base sm:text-lg font-semibold" id="modalProductPrice"></p>
            </div>

            <div class="bg-gray-50 rounded-xl p-4 sm:p-6 mb-4">
                <p class="text-base sm:text-lg font-bold text-gray-800 mb-4 text-center">Escolha a quantidade:</p>
                <div class="flex items-center justify-center gap-3 sm:gap-6">
                    <button onclick="window.decreaseModalQuantity()" class="bg-red-500 hover:bg-red-600 text-white w-12 sm:w-16 h-12 sm:h-16 rounded-full text-2xl sm:text-3xl font-bold transition shadow-lg hover:shadow-xl">âˆ’</button>
                    <span id="quantityDisplay" class="text-4xl sm:text-5xl font-black text-purple-700 w-20 sm:w-24 text-center leading-none">0</span>
                    <button onclick="window.increaseModalQuantity()" class="bg-green-500 hover:bg-green-600 text-white w-12 sm:w-16 h-12 sm:h-16 rounded-full text-2xl sm:text-3xl font-bold transition shadow-lg hover:shadow-xl">+</button>
                </div>
            </div>

            <div class="bg-gray-50 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6">
                <label class="block text-base sm:text-lg font-bold text-gray-800 mb-3 text-center">Ou digite a quantidade:</label>
                <input type="number" id="quantityInput" min="0" placeholder="0" 
                       class="w-full px-3 sm:px-4 py-3 sm:py-4 border-2 border-gray-400 rounded-lg text-center text-xl sm:text-2xl font-bold focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-300">
            </div>

            <button onclick="window.addToCart()" id="confirmButton" class="w-full py-3 sm:py-4 rounded-lg text-white font-bold text-base sm:text-lg transition transform hover:scale-105 mb-2 sm:mb-3">
                Adicionar ao Carrinho
            </button>
            <button onclick="window.closeQuantityModal()" class="w-full bg-gray-500 text-white py-3 sm:py-4 rounded-lg font-bold text-base sm:text-lg hover:bg-gray-600 transition shadow-md">
                â† Voltar
            </button>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md sm:max-w-lg lg:max-w-2xl w-[95%] sm:w-full max-h-[90vh] overflow-hidden flex flex-col">
            <div class="gradient-bg text-white p-4 sm:p-6 flex justify-between items-center">
                <h3 class="text-xl sm:text-2xl font-bold">ğŸ›’ Meu Carrinho</h3>
                <button onclick="window.toggleCart()" class="text-white hover:text-gray-200 text-2xl sm:text-3xl flex-shrink-0 ml-2">&times;</button>
            </div>
            
            <div id="cartItems" class="flex-1 overflow-y-auto p-4 sm:p-6"></div>

            <div class="border-t-2 border-gray-200 p-4 sm:p-6 bg-gray-50">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-lg sm:text-xl font-semibold text-gray-700">Total:</span>
                    <span id="cartTotal" class="text-2xl sm:text-3xl font-bold text-green-600">R$ 0,00</span>
                </div>
                <button onclick="window.openDeliveryModal()" class="w-full gradient-bg text-white py-3 sm:py-4 rounded-lg font-bold text-base sm:text-lg hover:opacity-90 transition">
                    Finalizar Pedido
                </button>
            </div>
        </div>
    </div>

    <!-- Delivery Modal -->
    <div id="deliveryModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-[95%] sm:w-full p-4 sm:p-6 max-h-[90vh] overflow-y-auto">
            <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 text-center">ğŸšš Forma de Entrega</h3>
            
            <div class="space-y-2 sm:space-y-3 mb-4 sm:mb-6">
                <button onclick="window.selectDeliveryType('local')" class="w-full p-3 sm:p-5 border-2 border-gray-300 rounded-lg text-left hover:border-green-500 hover:bg-green-50 transition" id="localBtn">
                    <div class="font-bold text-base sm:text-lg text-gray-800">ğŸª Retirar no Local</div>
                    <div class="text-sm sm:text-base font-semibold text-gray-700">Sem taxa adicional</div>
                </button>
                
                <button onclick="window.selectDeliveryType('delivery')" class="w-full p-3 sm:p-5 border-2 border-gray-300 rounded-lg text-left hover:border-blue-500 hover:bg-blue-50 transition" id="deliveryBtn">
                    <div class="font-bold text-base sm:text-lg text-gray-800">ğŸš— Entrega (Delivery)</div>
                    <div class="text-sm sm:text-base font-semibold text-gray-700">Taxa fixa: R$ 3,00</div>
                </button>
            </div>
            
            <!-- Pickup (Local) Form -->
            <div id="pickupForm" class="hidden space-y-3 sm:space-y-4 mb-4 sm:mb-6 p-3 sm:p-4 bg-green-50 rounded-lg border-2 border-green-200">
                <p class="text-center text-green-700 font-bold text-sm sm:text-base mb-3">ğŸª Retirada no Local</p>
                <div>
                    <label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-2">ğŸ‘¤ Nome Completo</label>
                    <input type="text" id="deliveryName" placeholder="Seu nome" class="w-full px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg text-sm sm:text-base focus:border-blue-500 focus:outline-none">
                </div>
                
                <div>
                    <label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-2">ğŸ“± Telefone</label>
                    <input type="tel" id="deliveryPhone" placeholder="(81) 99999-9999" class="w-full px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg text-sm sm:text-base focus:border-blue-500 focus:outline-none">
                </div>
            </div>
            
            <!-- Delivery Form -->
            <div id="deliveryForm" class="hidden space-y-3 sm:space-y-4 mb-4 sm:mb-6 p-3 sm:p-4 bg-gray-50 rounded-lg">
                <p class="text-center text-blue-700 font-bold text-sm sm:text-base mb-3">ğŸš— Entrega (Delivery)</p>
                <div>
                    <label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-2">ğŸ‘¤ Nome Completo</label>
                    <input type="text" id="deliveryName" placeholder="Seu nome" class="w-full px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg text-sm sm:text-base focus:border-blue-500 focus:outline-none">
                </div>
                
                <div>
                    <label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-2">ğŸ“± Telefone</label>
                    <input type="tel" id="deliveryPhone" placeholder="(81) 99999-9999" class="w-full px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg text-sm sm:text-base focus:border-blue-500 focus:outline-none">
                </div>
                
                <div>
                    <label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-2">ğŸ“ EndereÃ§o Completo</label>
                    <input type="text" id="deliveryAddress" placeholder="Rua/Avenida, nÃºmero" class="w-full px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg text-sm sm:text-base focus:border-blue-500 focus:outline-none">
                </div>
                
                <div class="grid grid-cols-2 gap-2 sm:gap-3">
                    <div>
                        <label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-2">ğŸ¢ Bloco</label>
                        <input type="text" id="deliveryBloco" placeholder="Ex: A" class="w-full px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg text-sm sm:text-base focus:border-blue-500 focus:outline-none">
                    </div>
                    
                    <div>
                        <label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-2">ğŸšª Apartamento</label>
                        <input type="text" id="deliveryApto" placeholder="Ex: 302" class="w-full px-3 sm:px-4 py-2 border-2 border-gray-300 rounded-lg text-sm sm:text-base focus:border-blue-500 focus:outline-none">
                    </div>
                </div>
            </div>
            
            <div id="deliveryTotal" class="hidden mb-4 sm:mb-6 p-4 sm:p-5 bg-blue-50 border-2 border-blue-300 rounded-lg text-center shadow-md">
                <p id="deliveryTotalLabel" class="text-base sm:text-lg font-bold text-blue-800 mb-2">Total com Delivery:</p>
                <p id="deliveryTotalValue" class="text-3xl sm:text-4xl font-black text-blue-600">R$ 0,00</p>
                <p id="deliveryTotalBreakdown" class="text-xs sm:text-sm text-gray-600 mt-2"></p>
            </div>

            <!-- Payment Method Selection -->
            <div id="paymentMethodSection" class="hidden mb-4 sm:mb-6">
                <h4 class="text-base sm:text-lg font-bold text-gray-800 mb-3">ğŸ’³ Forma de Pagamento</h4>
                <div class="space-y-2 sm:space-y-3">
                    <button onclick="window.selectPaymentMethod('pix')" class="w-full p-3 sm:p-4 border-2 border-gray-300 rounded-lg text-left hover:border-purple-500 hover:bg-purple-50 transition payment-btn" id="pixPaymentBtn">
                        <div class="font-bold text-sm sm:text-base text-gray-800">ğŸ’œ Pagar com PIX</div>
                    </button>
                    
                    <button onclick="window.selectPaymentMethod('card')" class="w-full p-3 sm:p-4 border-2 border-gray-300 rounded-lg text-left hover:border-blue-500 hover:bg-blue-50 transition payment-btn" id="cardPaymentBtn">
                        <div class="font-bold text-sm sm:text-base text-gray-800" id="cardPaymentText">ğŸ’³ Pagar com CartÃ£o na Entrega</div>
                    </button>

                    <button onclick="window.selectPaymentMethod('money')" class="w-full p-3 sm:p-4 border-2 border-gray-300 rounded-lg text-left hover:border-green-500 hover:bg-green-50 transition payment-btn" id="moneyPaymentBtn">
                        <div class="font-bold text-sm sm:text-base text-gray-800">ğŸ’µ Pagar com Dinheiro</div>
                    </button>
                </div>
            </div>

            <button id="confirmDeliveryBtn" onclick="window.confirmDelivery()" class="hidden w-full bg-green-500 text-white py-2 sm:py-3 rounded-lg font-bold text-sm sm:text-base hover:bg-green-600 transition mb-2">
                âœ… Confirmar e Continuar
            </button>
            
            <button onclick="window.closeDeliveryModal()" class="w-full bg-gray-500 text-white py-3 sm:py-4 rounded-lg font-bold text-base sm:text-lg hover:bg-gray-600 transition shadow-md">
                â† Voltar
            </button>
        </div>
    </div>

    <!-- PIX Modal -->
    <div id="pixModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-[9999] p-4 overflow-y-auto">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-[95%] sm:w-full p-4 sm:p-6 my-8 flex flex-col max-h-[calc(100vh-64px)]">
            <div class="overflow-y-auto flex-1">
                <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4 text-center">ğŸ’³ Pagamento via PIX</h3>
                
                <div id="pixContainer" class="space-y-3 sm:space-y-4 mb-4">
                    <!-- PIX dinÃ¢mico do Mercado Pago serÃ¡ inserido aqui -->
                </div>

                <!-- CÃ³digo PIX para copiar -->
                <div id="pixCodeSection" class="hidden bg-purple-50 border-2 border-purple-200 rounded-xl p-3 sm:p-4 mb-4">
                    <p class="text-xs sm:text-sm text-gray-600 text-center mb-2">ğŸ“‹ CÃ³digo PIX (Copia e Cola):</p>
                    <div class="flex gap-2">
                        <input type="text" id="pixCode" readonly class="flex-1 px-2 sm:px-3 py-2 border-2 border-gray-300 rounded-lg bg-white font-mono text-xs sm:text-sm text-gray-700 focus:outline-none">
                        <button onclick="window.copiarCodigoPix()" class="bg-purple-500 text-white px-3 sm:px-4 py-2 rounded-lg font-bold text-xs sm:text-sm hover:bg-purple-600 transition whitespace-nowrap">
                            ğŸ“‹ Copiar
                        </button>
                    </div>
                </div>

                <div class="bg-green-50 border-2 border-green-200 rounded-xl p-3 sm:p-4 mb-4">
                    <p class="text-xs sm:text-sm text-gray-600 text-center">Total a pagar:</p>
                    <p id="pixTotal" class="text-xl sm:text-2xl font-bold text-green-600 text-center"></p>
                </div>
            </div>

            <div class="flex flex-col gap-2 mt-4">
                <button onclick="window.sendToWhatsApp()" class="w-full bg-green-500 text-white py-3 sm:py-4 rounded-lg font-bold text-sm sm:text-base hover:bg-green-600 transition">
                    ğŸ“± Enviar Pedido pelo WhatsApp
                </button>
                <button onclick="window.cancelarCompra()" class="w-full bg-red-500 text-white py-3 sm:py-4 rounded-lg font-bold text-sm sm:text-base hover:bg-red-600 transition">
                    âŒ Cancelar Compra
                </button>
                <button onclick="window.closePixModal()" class="w-full bg-gray-500 text-white py-3 sm:py-4 rounded-lg font-bold text-base sm:text-lg hover:bg-gray-600 transition shadow-md">
                    â† Voltar
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notificationToast" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500 rounded-2xl shadow-2xl px-8 py-6 z-[60] hidden max-w-md w-full mx-4 border-l-4 border-green-500">
        <div class="flex items-center gap-4 justify-center">
            <span class="text-4xl">âœ…</span>
            <p id="notificationMessage" class="text-white font-semibold text-lg"></p>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="modal fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50 p-4">
        <div class="bg-red-50 rounded-2xl shadow-2xl max-w-md w-full p-6 border-l-4 border-red-500">
            <div class="flex items-start gap-4 mb-4">
                <span class="text-5xl">âš ï¸</span>
                <div class="flex-1">
                    <h3 class="text-2xl font-bold text-red-700 mb-2">AtenÃ§Ã£o!</h3>
                    <p id="errorMessage" class="text-base text-red-600 font-semibold leading-relaxed"></p>
                </div>
            </div>
            
            <button onclick="window.closeErrorModal()" class="w-full bg-red-500 text-white py-3 rounded-lg font-bold text-lg hover:bg-red-600 transition shadow-lg">
                Entendi
            </button>
        </div>
    </div>

    <!-- Payment Confirmation Modal -->
    <div id="paymentConfirmModal" class="modal fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-[9998] p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-[95%] sm:w-full p-4 sm:p-6 border-l-4 border-purple-500">
            <div class="text-center mb-4 sm:mb-6">
                <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-2" id="paymentConfirmTitle">ğŸ’³ Confirmar Pagamento</h3>
                <p id="paymentConfirmMessage" class="text-sm sm:text-base text-gray-600 leading-relaxed"></p>
            </div>
            
            <div class="bg-gray-50 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6 text-center">
                <p class="text-xs sm:text-sm text-gray-600">Valor total:</p>
                <p id="paymentConfirmTotal" class="text-2xl sm:text-3xl font-bold text-green-600"></p>
            </div>

            <!-- SeÃ§Ã£o de troco para PAGAMENTO EM DINHEIRO -->
            <div id="cashPaymentSection" class="hidden bg-white rounded-xl p-3 sm:p-4 mb-4 sm:mb-6 border-2 border-gray-100">
                <p class="text-sm text-gray-700 mb-2">ğŸ’µ Pagamento em dinheiro â€” informe com quanto vai pagar:</p>
                <div class="flex gap-2 items-center">
                    <input id="cashReceivedInput" type="text" inputmode="decimal" placeholder="ex: 10,00" class="flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg bg-white text-sm text-gray-800 focus:outline-none" oninput="updateCashChangeUI()">
                    <button onclick="fillExactCash()" class="px-3 py-2 bg-gray-100 rounded-lg text-sm">ğŸ”¢ Pago Exato</button>
                </div>
                <p id="cashChange" class="text-sm mt-2 text-gray-700">Troco: R$ 0,00</p>
            </div>

            <div class="flex gap-2 sm:gap-3">
                <button onclick="window.closePaymentConfirmModal()" class="flex-1 bg-gray-500 text-white py-2 sm:py-3 rounded-lg font-bold text-sm sm:text-base hover:bg-gray-600 transition">
                    âŒ Cancelar
                </button>
                <button id="paymentConfirmBtn" onclick="window.confirmPaymentMethod()" class="flex-1 bg-green-500 text-white py-2 sm:py-3 rounded-lg font-bold text-sm sm:text-base hover:bg-green-600 transition">
                    âœ… Confirmar
                </button>
            </div>
        </div>
    </div>

    <!-- Success Order Modal with WhatsApp Option -->
    <div id="successOrderModal" class="modal fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-[95%] sm:w-full p-4 sm:p-6 border-l-4 border-green-500">
            <div class="text-center mb-4 sm:mb-6">
                <h3 class="text-3xl sm:text-4xl mb-3">âœ…</h3>
                <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-2">Pedido Confirmado!</h3>
                <p id="successMessage" class="text-sm sm:text-base text-gray-600 leading-relaxed"></p>
            </div>
            
            <div class="bg-green-50 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6 text-center border-2 border-green-200">
                <p class="text-xs sm:text-sm text-gray-600 mb-2">Seu pedido foi salvo no painel da loja</p>
                <p class="text-base sm:text-lg font-bold text-green-600">ğŸ“‹ Nota #<span id="successOrderId"></span></p>
            </div>

            <div class="flex flex-col gap-2 sm:gap-3">
                <button onclick="window.sendOrderToWhatsApp()" class="w-full bg-green-500 text-white py-2 sm:py-3 rounded-lg font-bold text-sm sm:text-base hover:bg-green-600 transition flex items-center justify-center gap-2">
                    ğŸ’¬ Enviar para WhatsApp
                </button>
                <button onclick="window.closeSuccessOrderModal()" class="w-full bg-gray-300 text-gray-800 py-2 sm:py-3 rounded-lg font-bold text-sm sm:text-base hover:bg-gray-400 transition">
                    Fechar
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="gradient-bg text-white mt-16 py-8">
        <div class="container mx-auto px-4 text-center">
            <div class="mb-4">
                <p class="text-base sm:text-lg font-semibold mb-2">Entre em contato:</p>
                <a href="https://wa.me/5581971028677" target="_blank" class="inline-block bg-white text-green-600 px-4 sm:px-6 py-2 sm:py-3 rounded-full font-bold text-sm sm:text-base hover:bg-green-50 transition">
                    ğŸ’¬ WhatsApp: (81) 97102-8677
                </a>
            </div>
            <p class="text-xs sm:text-sm opacity-75">Â© 2025 Hortifruti Vila Natal - Todos os direitos reservados</p>
        </div>
    </footer>

    <script>
        // ===== DEBUG IMEDIATO =====
        console.clear();
        console.log('%câ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—', 'color: #10b981; font-weight: bold;');
        console.log('%câ•‘  HORTIFRUTI VILA NATAL - DIAGNÃ“STICO   â•‘', 'color: #10b981; font-weight: bold;');
        console.log('%câ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'color: #10b981; font-weight: bold;');
        
        // Verificar se elementos existem
        console.log('\nğŸ“ VERIFICANDO ELEMENTOS DOM:');
        const elements = {
            'productsGrid': document.getElementById('productsGrid'),
            'emptyState': document.getElementById('emptyState'),
            'quantityModal': document.getElementById('quantityModal'),
            'cartModal': document.getElementById('cartModal'),
            'quantityInput': document.getElementById('quantityInput')
        };
        
        Object.entries(elements).forEach(([name, el]) => {
            console.log(`  ${el ? 'âœ…' : 'âŒ'} #${name}: ${el ? 'EXISTE' : 'NÃƒO ENCONTRADO'}`);
        });
        
        // Verificar localStorage
        console.log('\nğŸ“¦ VERIFICANDO localStorage:');
        const stored = localStorage.getItem('hortifruti_products');
        console.log(`  ğŸ“ hortifruti_products: ${stored ? stored.length + ' caracteres' : 'VAZIO'}`);
        
        if (stored) {
            try {
                const parsed = JSON.parse(stored);
                if (Array.isArray(parsed)) {
                    console.log(`  âœ… JSON vÃ¡lido, ${parsed.length} produtos:`);
                    parsed.forEach((p, i) => {
                        console.log(`    [${i+1}] ${p.name} - R$ ${p.price}`);
                    });
                } else {
                    console.error(`  âŒ NÃ£o Ã© um array`);
                }
            } catch (e) {
                console.error(`  âŒ JSON invÃ¡lido: ${e.message}`);
            }
        } else {
            console.log('  â„¹ï¸ localStorage vazio - usarÃ¡ SAMPLE_PRODUCTS como fallback');
        }
        
        // Verificar Tailwind
        console.log('\nğŸ¨ VERIFICANDO TAILWIND CSS:');
        const computed = window.getComputedStyle(document.body);
        const fontFamily = computed.fontFamily;
        console.log(`  ${fontFamily.includes('Poppins') ? 'âœ…' : 'âš ï¸'} Font: ${fontFamily.substring(0, 50)}...`);
        
        // Verificar viewport
        console.log('\nğŸ“± VIEWPORT:');
        console.log(`  Largura: ${window.innerWidth}px`);
        console.log(`  Altura: ${window.innerHeight}px`);
        const isMobile = /iPhone|iPad|iPod|Android|webOS/i.test(navigator.userAgent);
        console.log(`  Tipo: ${isMobile ? 'ğŸ“± MOBILE' : 'ğŸ–¥ï¸ DESKTOP'}`);
        
        console.log('\n%câ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'color: #10b981; font-weight: bold;');
    </script>

    <!-- Modal Estilizado de ConfirmaÃ§Ã£o de Cancelamento -->
    <div id="cancelConfirmModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999] hidden p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-96 max-w-[90%] animate-in fade-in zoom-in-95 duration-300">
            <div class="p-6 sm:p-8 text-center">
                <div class="text-4xl sm:text-5xl mb-4 animate-bounce">â“</div>
                <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-2">Tem certeza?</h2>
                <p class="text-sm sm:text-base text-gray-600 mb-6 leading-relaxed">O carrinho serÃ¡ mantido para vocÃª continuar depois.</p>
                <div class="flex gap-2 sm:gap-3">
                    <button onclick="window.closeCancelModal(false)" class="flex-1 px-3 sm:px-4 py-2 sm:py-3 bg-gray-200 text-gray-800 text-sm sm:text-base rounded-lg font-semibold hover:bg-gray-300 transition transform hover:-translate-y-0.5">
                        Manter Compra
                    </button>
                    <button onclick="window.closeCancelModal(true)" class="flex-1 px-3 sm:px-4 py-2 sm:py-3 bg-red-500 text-white text-sm sm:text-base rounded-lg font-semibold hover:bg-red-600 transition transform hover:-translate-y-0.5 shadow-lg">
                        Cancelar Compra
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script-site.js"></script>
</body>
</html>